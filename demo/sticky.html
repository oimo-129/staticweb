<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>粘性定位(sticky)示例</title>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* 注释块样式 */
        .note {
            background-color: #ffffcc;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #ffeb3b;
        }
        
        /* 示例1: 粘性导航 */
        .sticky-nav {
            position: sticky;
            top: 0;
            background-color: #333;
            color: white;
            padding: 15px;
            margin-bottom: 20px;
            z-index: 100;
        }
        
        /* 示例2: 表格标题 */
        .sticky-table-container {
            max-height: 300px;
            overflow-y: auto;
            margin: 30px 0;
            border: 1px solid #ddd;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            position: sticky;
            top: 0;
            background-color: #4CAF50;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        /* 示例3: 章节标题 */
        .chapter {
            margin-bottom: 50px;
            border: 1px solid #ddd;
            padding-bottom: 20px;
        }
        
        .chapter-title {
            position: sticky;
            top: 70px; /* 在导航下方粘贴 */
            background-color: #e6f7ff;
            padding: 15px;
            margin: 0;
            border-bottom: 1px solid #ddd;
            z-index: 90;
        }
        
        .chapter-content {
            padding: 15px;
        }
        
        /* 示例4: 侧边目录 */
        .page-layout {
            display: flex;
            margin-top: 50px;
        }
        
        .sidebar {
            width: 200px;
            margin-right: 30px;
        }
        
        .toc {
            position: sticky;
            top: 70px;
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 4px;
        }
        
        .main-content {
            flex: 1;
        }
        
        .toc ul {
            list-style-type: none;
            padding-left: 15px;
        }
        
        .toc li {
            margin-bottom: 10px;
        }
        
        .toc a {
            text-decoration: none;
            color: #333;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        /* 空间填充 */
        .spacer {
            height: 200px;
            background-color: #f0f0f0;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>粘性定位(sticky)</h1>
        
        <div class="note">
            <p><strong>sticky定位说明：</strong></p>
            <ul>
                <li>是relative和fixed的混合体</li>
                <li>元素在屏幕内正常显示（相当于relative）</li>
                <li>当元素将要滚出视窗时，会变成固定定位（相当于fixed）</li>
                <li>必须指定top、right、bottom或left之一才能生效</li>
                <li>粘性定位元素的位置取决于最近的滚动祖先</li>
            </ul>
        </div>
        
        <!-- 示例1: 粘性导航 -->
        <h2>示例1: 粘性导航</h2>
        <p>向下滚动时，导航栏会粘在页面顶部。</p>
        
        <div class="sticky-nav">
            <strong>粘性导航栏</strong> - 继续滚动，我会粘在顶部
        </div>
        
        <div class="spacer">向下滚动查看效果</div>
        
        <!-- 示例2: 表格标题 -->
        <h2>示例2: 粘性表格标题</h2>
        <p>在可滚动的表格中，表头会粘在顶部，方便查看数据。</p>
        
        <div class="sticky-table-container">
            <table>
                <thead>
                    <tr>
                        <th>姓名</th>
                        <th>年龄</th>
                        <th>职业</th>
                        <th>城市</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>张三</td><td>28</td><td>软件工程师</td><td>北京</td></tr>
                    <tr><td>李四</td><td>32</td><td>产品经理</td><td>上海</td></tr>
                    <tr><td>王五</td><td>24</td><td>UI设计师</td><td>广州</td></tr>
                    <tr><td>赵六</td><td>40</td><td>市场总监</td><td>深圳</td></tr>
                    <tr><td>钱七</td><td>35</td><td>销售经理</td><td>杭州</td></tr>
                    <tr><td>孙八</td><td>27</td><td>人力资源</td><td>成都</td></tr>
                    <tr><td>周九</td><td>31</td><td>客户服务</td><td>武汉</td></tr>
                    <tr><td>吴十</td><td>29</td><td>数据分析师</td><td>南京</td></tr>
                    <tr><td>郑十一</td><td>33</td><td>财务主管</td><td>重庆</td></tr>
                    <tr><td>王十二</td><td>26</td><td>前端开发</td><td>西安</td></tr>
                </tbody>
            </table>
        </div>
        
        <!-- 示例3: 章节标题 -->
        <h2>示例3: 粘性章节标题</h2>
        <p>阅读长文章时，章节标题会粘在顶部，方便知道当前阅读位置。</p>
        
        <div class="chapter">
            <h3 class="chapter-title">第一章：粘性定位基础</h3>
            <div class="chapter-content">
                <p>这是第一章的内容。粘性定位(position: sticky)是CSS中的一个相对较新的定位方式。它的行为类似于相对定位(relative)和固定定位(fixed)的混合体。</p>
                <p>当元素处于视窗内时，它表现为相对定位；当滚动使元素即将离开视窗时，它会变成固定定位，粘在指定位置。</p>
                <p>粘性定位特别适合用于导航栏、章节标题、表格头部等需要在滚动时保持可见的元素。</p>
            </div>
        </div>
        
        <div class="chapter">
            <h3 class="chapter-title">第二章：使用条件与限制</h3>
            <div class="chapter-content">
                <p>使用粘性定位时，必须指定top、right、bottom或left属性之一，否则粘性定位不会生效。</p>
                <p>粘性定位元素的定位相对于最近的具有滚动机制的祖先元素，而不一定是视窗。</p>
                <p>粘性定位元素不能超出其包含块。也就是说，一旦粘性元素碰到其包含块的边界，它会停止"粘性"行为。</p>
                <p>在一些旧版浏览器中可能不支持粘性定位，需要考虑兼容性问题。</p>
            </div>
        </div>
        
        <div class="chapter">
            <h3 class="chapter-title">第三章：实际应用场景</h3>
            <div class="chapter-content">
                <p>粘性定位在现代网页设计中有很多实用的应用场景：</p>
                <ol>
                    <li>页面导航栏在滚动时固定在顶部</li>
                    <li>长表格的表头在滚动时保持可见</li>
                    <li>长文章的章节标题在滚动时粘在顶部</li>
                    <li>侧边栏目录跟随页面滚动</li>
                    <li>图像库中的分类标签</li>
                    <li>时间轴上的日期标记</li>
                </ol>
            </div>
        </div>
        
        <!-- 示例4: 侧边目录 -->
        <h2>示例4: 粘性侧边目录</h2>
        <p>长页面中，侧边导航跟随滚动，方便快速跳转。</p>
        
        <div class="page-layout">
            <div class="sidebar">
                <div class="toc">
                    <h4>文章目录</h4>
                    <ul>
                        <li><a href="#">引言</a></li>
                        <li><a href="#">第一部分</a></li>
                        <li><a href="#">第二部分</a></li>
                        <li><a href="#">第三部分</a></li>
                        <li><a href="#">结论</a></li>
                    </ul>
                </div>
            </div>
            <div class="main-content">
                <h3>长文章内容</h3>
                <p>这是一篇很长的文章，侧边的目录会随着滚动保持可见。</p>
                <div class="spacer">继续滚动...</div>
                <p>随着页面滚动，侧边的目录会始终保持在视图中。</p>
                <div class="spacer">再滚动一些...</div>
                <p>这使得导航变得更加方便，用户可以随时点击目录跳转到文章的不同部分。</p>
                <div class="spacer">最后一点...</div>
                <p>粘性定位为长页面的导航提供了很好的用户体验。</p>
            </div>
        </div>
        
        <div class="note">
            <p><strong>使用场景总结：</strong></p>
            <ul>
                <li>导航栏固定在顶部</li>
                <li>表格头部固定</li>
                <li>章节标题固定</li>
                <li>侧边导航菜单</li>
                <li>分类标签固定</li>
            </ul>
        </div>
    </div>
</body>
</html> 